{% extends "base_generic.html" %}

{% block content %}
  <h1>Title: {{ topic.title }}</h1>

  <p><strong>Title:</strong> <a href="">{{ topic.title }}</a></p>
  <p><strong>Forum:</strong> {{ topic.forum }}</p>
  <p><strong>Created :</strong> {{ topic.created }}</p>
  <p><strong>Creator :</strong> {{ topic.creator }}</p>

  <div style="margin-left:20px;margin-top:20px">
    <p><strong>Сообщений в теме:</strong> {{ num_post_for_topic }}</p>
    <p><a href="{% url 'post_add' pk=topic.id %}"  class="top-menu">Добавить сообщение:</a></p>
{% if list_post1 %}
    <ul>

      {% for post in list_post1 %}
      <li>
        <h1><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h1>
        <p>Создан: {{ post.created }}</p>
        <p>изменен: {{ post.updated }}</p>
        <p>Автор: {{ post.creator }}</p>
        <p>{{ post.content|linebreaksbr }}</p>

      </li>
      {% endfor %}

    </ul>
    {% else %}
      <p>There are no post in the Topic.</p>
    {% endif %}



    <div class="pagination">
    <span class="step-links">
        {% if page.has_previous %}
            <a href="?page={{ page.previous_page_number }}">Previous</a>
        {% endif %}
            <span class="current">
                Page {{ page.number }} of {{ page.paginator.num_pages }}.
            </span>
        {% if page.has_next %}
            <a href="?page={{ page.next_page_number }}">Next</a>
        {% endif %}
    </span>
</div>

  </div>
{% endblock %}



{% extends "base_generic.html" %}

{% block content %}
  <h1>Title: {{ topic.title }}</h1>

  <p><strong>Title:</strong> <a href="">{{ topic.title }}</a></p>
  <p><strong>Forum:</strong> {{ topic.forum }}</p>
  <p><strong>Created :</strong> {{ topic.created }}</p>
  <p><strong>Creator :</strong> {{ topic.creator }}</p>

  <div style="margin-left:20px;margin-top:20px">
    <p><strong>Сообщений в теме:</strong> ({{topic.post_set.all.count}})</p>
    <p><a href="{% url 'post_add' pk=topic.id %}"  class="top-menu">Добавить сообщение:</a></p>

{% if topic.post_set.all.count %}
    <ul>
    <ul>
      {% for post in topic.post_set.all %}
      <li>
        <h1><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h1>
        <p>Создан: {{ post.created }}</p>
        <p>изменен: {{ post.updated }}</p>
        <p>Автор: {{ post.creator }}</p>
        <p>{{ post.content|linebreaksbr }}</p>
      </li>
      {% endfor %}
    </ul>
    {% else %}
      <p>There are no post in the Topic.</p>
{% endif %}
  </div>
{% endblock %}

